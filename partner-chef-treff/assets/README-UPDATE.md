
# Інструкція з оновлення Gulp-проекту: Від початкового стану до робочого

Ця інструкція допоможе вам пройти крок за кроком процес оновлення вашого Gulp-проекту з початкового стану до поточного робочого стану, вирішуючи проблеми з залежностями та помилками, які можуть виникнути під час роботи.

## 1. Оновлення Node.js та npm
- Якщо виникають проблеми з `nvm` або версією Node.js:
  - Видаліть існуючий `nvm`.
  - Встановіть останню версію `nvm` з [офіційного GitHub репозиторію](https://github.com/coreybutler/nvm-windows/releases).
  - Встановіть останню стабільну версію Node.js:
    ```bash
    nvm install 20.17.0
    nvm use 20.17.0
    ```

## 2. Перевстановлення Gulp та його залежностей
- Якщо Gulp не встановлений локально:
  ```bash
  npm install gulp --save-dev
  ```

- Видаліть старі залежності та встановіть їх заново:
  ```bash
  rm -rf node_modules package-lock.json
  npm install
  ```

- Перевірте `package.json` і переконайтеся, що вказана актуальна версія Gulp (`^4.0.2`).

## 3. Робота з ESM та CommonJS
- Якщо виникають помилки, пов'язані з `require` та ESM, перепишіть `gulpfile.mjs` для використання модулів ESM:
    - Перейменуйте `gulpfile.mjs` на `gulpfile.mjs`.
    - Замініть `require` на `import` у файлі.
    - Додайте `"type": "module"` в `package.json`.

- Якщо потрібно зберегти CommonJS:
    - Використовуйте динамічний імпорт:
      ```javascript
      const autoprefixer = await import('gulp-autoprefixer');
      ```

## 4. Виправлення помилок з відсутніми модулями
- Якщо виникають помилки `MODULE_NOT_FOUND`:
    - Встановіть відсутні пакети вручну, наприклад:
      ```bash
      npm install gulp-plumber --save-dev
      npm install bin-version-check --save-dev
      ```

## 5. Налаштування `gulp-connect-php` або альтернатив
- Якщо виникають проблеми з `gulp-connect-php`, спробуйте перевстановити або замінити його на `browser-sync` для роботи з PHP-сервером.

## 6. Фінальна перевірка
- Після виконання всіх кроків перевірте, чи працює `gulp watch` без помилок. Якщо все працює, проект готовий до використання.

## Кінцевий результат
- Всі залежності оновлені.
- Немає конфліктів версій або відсутніх модулів.
- Проект стабільно працює з `gulp watch`.

## Рекомендації
- Регулярно оновлюйте залежності проекту.
- Використовуйте ESM, якщо це можливо, для сучасного кодування.
- Додавайте автоматичні тести для перевірки проекту після оновлень.

Ця інструкція дозволить вам оновити проект з урахуванням сучасних вимог і уникнути типових проблем при роботі з Gulp та його залежностями.

# Особливості оновлення
## Gulp-dart-sass
`gulp-dart-sass` надає кілька суттєвих переваг, які роблять його відмінним вибором для компіляції SASS у сучасних проектах. Ось деякі з них:

### 1. **Швидкість і продуктивність**
   Dart Sass — це сучасний компілятор SASS, який значно швидший за попередні компілятори, такі як `node-sass`. Він написаний на мові Dart, що дозволяє йому ефективно виконувати компіляцію навіть для великих проектів.

   **Приклад:**
   ```javascript
   import gulp from 'gulp';
   import sass from 'gulp-dart-sass';

   export function css() {
       return gulp.src('scss/**/*.scss')
           .pipe(sass().on('error', sass.logError))
           .pipe(gulp.dest('css'));
   }
   ```

**Результат:** Швидка компіляція великих SASS-файлів із мінімальним часом на обробку.

### 2. **Підтримка сучасного синтаксису SASS**
Dart Sass повністю підтримує останні версії SASS, включаючи нові можливості та синтаксис, такі як модульна система, яка дозволяє вам більш ефективно організовувати ваші стилі.

**Приклад:**
   ```scss
   // styles/_variables.scss
   $primary-color: #333;

   // styles/main.scss
   @use 'variables' as *;

   body {
       color: $primary-color;
   }
   ```

**Результат:** Dart Sass підтримує новий синтаксис `@use` і `@forward`, що дозволяє легко і безпечно використовувати змінні та міксіни у вашому проекті.

### 3. **Відсутність нативних залежностей**
Dart Sass працює без необхідності встановлення нативних залежностей, таких як бібліотеки на C++, що використовуються в `node-sass`. Це означає, що встановлення та налаштування проекту проходять значно простіше, особливо на різних платформах.

**Приклад:**
   ```bash
   npm install gulp-dart-sass --save-dev
   ```

**Результат:** Просте встановлення та швидкий початок роботи без необхідності додаткових налаштувань або інсталяції специфічних для платформи бібліотек.

### 4. **Активна підтримка і розвиток**
Dart Sass — це єдиний офіційно підтримуваний компілятор SASS, який активно розвивається. Це означає, що ви завжди будете мати доступ до останніх оновлень та виправлень, а також нових можливостей, які додаються до SASS.

**Приклад:**
   ```javascript
   import gulp from 'gulp';
   import sass from 'gulp-dart-sass';

   export function css() {
       return gulp.src('scss/**/*.scss')
           .pipe(sass().on('error', sass.logError))
           .pipe(gulp.dest('css'));
   }
   ```

**Результат:** Використання Dart Sass гарантує, що ваш проект буде залишатися актуальним і отримає всі нові можливості SASS.

### 5. **Мультиплатформеність**
Dart Sass працює однаково добре на Windows, macOS, і Linux, без потреби в спеціальній конфігурації або додаткових бібліотеках.

**Приклад:**
   ```bash
   npm install gulp-dart-sass --save-dev
   ```

**Результат:** Ви отримуєте стабільну та предиктивну роботу компілятора на будь-якій операційній системі.

### Висновок

Використання `gulp-dart-sass` забезпечує сучасний підхід до роботи з SASS, що включає підтримку новітнього синтаксису, швидкість, надійність, легкість в установці та універсальність на різних платформах. Це робить його ідеальним вибором для сучасних веб-проектів.
